// * {
//     outline: 0.1px dashed black;
// }

@use "colors" as c;
@use "header";
@use "main";
@use "footer";


// Colors

$shadow: c.$muted;

$link: c.$accent-2-dark;
$link-visited: c.$accent-2-dark;
$link-hover: c.$accent-1-dark;
$link-active: c.$accent-1-dark;

$link-unsafe: c.$warning;

$code: c.$primary;
$code-bg: c.$muted-bg;


// Selectors

html {
    background-color: c.$muted-bg;
}

body {
    display: flex;
    flex-direction: column;
    align-items: stretch;

    box-sizing: border-box;
    min-height: 100vh; // Don't be shorter than the viewport
    max-width: 46em; // Max out the width at 50em

    margin: 0 auto; // Center the body
    padding: 1em; // Leave some space as if the body is a sheet of paper

    & > * {
        padding: 1em; // Section contents should be padded even further
    }

    & main {
        flex: 1; // Grow the main section to fill the remaining space
    }

    // Fonts

    font-family: system-ui, sans-serif;

    // Colors

    color: c.$primary;
    background-color: c.$primary-bg;

    box-shadow: 0 0 10px $shadow;
}

a {
    @include c.link(
        $link,
        $link-visited,
        $link-hover,
        $link-active,
    );
}

a[href^="http:"] {
    &::after {
        // \202F is a narrow NBSP
        content: "\202F(HTTP)";
        color: $link-unsafe;
        margin-right: 0.25em;
    }
}

a[href^="https:"] {
    &::after {
        // \202F is a narrow NBSP
        content: url("/img/external-black.svg");
        opacity: 50%;
    }
}

// Codeblocks
pre {
    // Scroll the codeblocks to the right
    overflow-x: auto;

    // Help the user see where to scroll and that there might be more code to the right
    padding: 1em;
    box-shadow: inset 0 0 5px $shadow;
}

// Inline code
p code {
    // Make the codeblocks actually the size of surrounding text
    font-size: 1.1em;

    color: $code;
    background-color: $code-bg;

    padding: 0 0.2em;
    border-radius: 0.2em;

    // Allow breaking words because it's better than overflowing.
    word-wrap: break-word;
}

.center-self {
    width: min-content;
    margin: 0 auto;
}
